<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>
      {{(vm$ | async).page.name}}
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid *ngIf="vm$ | async as vm">
    <ng-container *ngFor="let label of vm.labels">
      <ion-row *ngIf="label.name">
        <ion-label class="control-label">
          <p>{{label.name}}</p>
        </ion-label>
      </ion-row>
      <ion-row>
        <ion-col size="12" size-md="6" *ngFor="let control of filter(label) | async">

          <ng-container *ngIf="control.type === 'i_room_controller'">
            <control-irc-view [control]="control" [view]="viewType.LIST_ITEM"></control-irc-view>
          </ng-container>

          <ng-container *ngIf="control.type === 'light_controller_v2'">
            <control-light-v2-view [control]="control" [view]="viewType.LIST_ITEM"></control-light-v2-view>
          </ng-container>

          <ng-container *ngIf="control.type === 'pushbutton'">
            <control-pushbutton-view [control]="control" [view]="viewType.LIST_ITEM"></control-pushbutton-view>
          </ng-container>

          <ng-container *ngIf="control.type === 'slider'">
            <control-slider-view [control]="control" [view]="viewType.LIST_ITEM"></control-slider-view>
          </ng-container>

          <ng-container *ngIf="control.type === 'switch'">
            <control-switch-view [control]="control" [view]="viewType.LIST_ITEM"></control-switch-view>
          </ng-container>

          <ng-container *ngIf="control.type === 'radio'">
            <control-radio-view [control]="control" [view]="viewType.LIST_ITEM"></control-radio-view>
          </ng-container>

          <ng-container *ngIf="
          (control.type !== 'i_room_controller') &&
          (control.type !== 'light_controller_v2') &&
          (control.type !== 'pushbutton') &&
          (control.type !== 'slider') &&
          (control.type !== 'switch') &&
          (control.type !== 'radio')
          ">
            <control-text-state-view [control]="control" [view]="viewType.LIST_ITEM"></control-text-state-view>
          </ng-container>

        </ion-col>
      </ion-row>
    </ng-container>
  </ion-grid>

</ion-content>